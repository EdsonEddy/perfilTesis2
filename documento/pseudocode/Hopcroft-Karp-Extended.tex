\begin{codebox}
\Procname{$\proc{Hopcroft-Karp-Extended}(G)$}
\li \For each vertex $v \in G.V$
\li \Do $v.match \gets -1$ \End
\li $\id{mcbm} \gets 0$
\li \While $\proc{Bfs-Modified}(G)$ \Do
\li \For each vertex $v \in G.V$ \Do
\li $v.visited \gets UNVISITED$ \End
\li \For each vertex $r \in G.R$ \Do
\li \If $r.match \isequal -1$ and $\proc{Dfs-Modified}(G, r)$ \Then
\li $\id{mcbm} \gets \id{mcbm} + 1$ \End \End \End
\li \Return $\id{mcbm}$
\end{codebox}